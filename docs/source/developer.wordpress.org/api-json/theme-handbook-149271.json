{
    "id": 149271,
    "date": "2023-11-06T14:08:45",
    "date_gmt": "2023-11-06T14:08:45",
    "guid": {
        "rendered": "https://developer.wordpress.org/?post_type=theme-handbook&#038;p=149271"
    },
    "modified": "2023-11-06T14:08:45",
    "modified_gmt": "2023-11-06T14:08:45",
    "slug": "block-style-variations",
    "status": "publish",
    "type": "theme-handbook",
    "link": "https://developer.wordpress.org/themes/features/block-style-variations/",
    "title": {
        "rendered": "Block Style Variations"
    },
    "content": {
        "rendered": "\n<p>Block style variations (block styles, for short) let you create alternate styles for individual blocks. Registered styles appear in the user interface, allowing users to quickly switch between the default style and any alternates.</p>\n\n\n\n<div class=\"wp-block-wporg-notice is-info-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>Many features, unfortunately, use the term \u201cvariations\u201d in their name. This can be confusing at times. The biggest thing to note is that block style variations are not the same thing as <a href=\"https://developer.wordpress.org/themes/global-settings-and-styles/style-variations/\">global style variations</a> and <a href=\"https://developer.wordpress.org/themes/features/block-variations/\">block variations</a>.</p><p>Often, you will see block style variations referred to as \u201cblock styles,\u201d as they are in this article, but this should also not be confused with <a href=\"https://developer.wordpress.org/themes/features/block-stylesheets/\">block stylesheets</a>. The two features can be used to work together, but they are not the same thing.</p></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">What are block styles?</h2>\n\n\n\n<p>Under the hood, block styles are nothing more than CSS classes added to a block\u2019s wrapping element with the name of <code>.is-style-{name}</code>. This allows you to add custom CSS to alter the block\u2019s design in some way.</p>\n\n\n\n<p>In this screenshot, you can see multiple block styles registered for the Image block under the <strong>Styles</strong> panel, and the core <strong>Rounded</strong> option is selected:</p>\n\n\n\n<figure class=\"wp-block-image size-full\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1071\" src=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?resize=2048%2C1071&#038;ssl=1\" alt=\"WordPress post editor showing an Image block with a rounded style in the content canvas.\" class=\"wp-image-149272\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-rounded.jpg?resize=1536%2C803&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>All that is happening here is that core WordPress and the theme have both registered block styles for the Image block, and the user has selected one of those styles. Then the CSS for that registered style is applied to a block.</p>\n\n\n\n<p>Ultimately, block styles are just a standard way to add a class to a block and customize it with CSS.</p>\n\n\n\n<div class=\"wp-block-wporg-notice is-tip-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>Users can only apply one style to a block at a time. They cannot combine them using the standard design tools. If you need to allow more options, you might consider building custom design tools. Read the <a href=\"https://developer.wordpress.org/news/tag/beyond-block-styles/\">Beyond Block Styles</a> tutorial series on the WordPress Developer Blog to learn how.</p></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">PHP-based block styles</h2>\n\n\n\n<p>Most theme authors will want to register block styles with PHP. Skip ahead to the \u201cJavaScript-based block styles\u201d section if you need or want to work with them via JavaScript.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Registering blocks styles with PHP</h3>\n\n\n\n<p>To register a block style, use the <a href=\"https://developer.wordpress.org/reference/functions/register_block_style/\"><code>register_block_style()</code></a> PHP\u00a0 function. The function\u2019s signature looks like this:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">register_block_style( \n\tstring $block_name, \n\tarray $style_properties\n): bool</code></pre>\n\n\n\n<p>The function accepts two parameters and returns <code>true</code> or <code>false</code>, depending on whether the registration was successful:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong><code>$block_name</code>:</strong> The name of the block, including both the namespace and slug (e.g., <code>core/image</code>).</li>\n\n\n\n<li><strong><code>$style_properties</code>:</strong> An array of arguments that can be used to configure the style:\n<ul class=\"wp-block-list\">\n<li><strong><code>name</code>:</strong> <em>(Required)</em> A unique identifier/slug, which is used to generate the class (e.g., <code>is-style-{name}</code>).</li>\n\n\n\n<li><strong><code>label</code>:</strong> <em>(Required)</em> An human-readable label, which may be translated.</li>\n\n\n\n<li><strong><code>inline_style</code>:</strong> Inline CSS to be printed when the style is in use.</li>\n\n\n\n<li><strong><code>style_handle</code>:</strong> A handle for a registered stylesheet to load for the style.</li>\n\n\n\n<li><strong><code>is_default</code>:</strong> Whether the style should be selected as the default for the block (defaults to <code>false</code>).</li>\n</ul>\n</li>\n</ul>\n\n\n\n<div class=\"wp-block-wporg-notice is-alert-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p><code>style_handle</code> <a href=\"https://github.com/WordPress/gutenberg/issues/27244#issuecomment-1407082624\">currently has a bug</a> where it only enqueues the stylesheet in the editor but not on the front end. Until that linked ticket is addressed, its use is not recommended.</p></div></div>\n\n\n\n<p>Let\u2019s try creating a block style that gives the Image block a \u201chand drawn\u201d look so that it looks like this when selected in the editor:</p>\n\n\n\n<figure class=\"wp-block-image size-full\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1071\" src=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?resize=2048%2C1071&#038;ssl=1\" alt=\"WordPress post editor showing an Image block with a hand-drawn style in the content canvas.\" class=\"wp-image-149273\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?resize=300%2C157&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?resize=1024%2C536&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?resize=768%2C402&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-image-hand-drawn.jpg?resize=1536%2C803&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>To register this block style, you need to configure it via the <code>register_block_style()</code> function and add it as a callback on the <code>init</code> hook.\u00a0</p>\n\n\n\n<p>Add the following code to your theme\u2019s <code>functions.php</code> file to test it out:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">add_action( 'init', 'themeslug_register_block_styles' );\n\nfunction themeslug_register_block_styles() {\n\tregister_block_style( 'core/image', array(\n\t\t'name'         =&gt; 'hand-drawn',\n\t\t'label'        =&gt; __( 'Hand Drawn', 'themeslug' ),\n\t\t'inline_style' =&gt; '.wp-block-image.is-style-hand-drawn img {\n\t\t\tborder: 2px solid currentColor;\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: 0 4px  10px 0 rgba( 0, 0, 0, 0.3 );\n\t\t\tborder-radius: 255px 15px 225px 15px/15px 225px 15px 255px !important;\n\t\t}'\n    ) );\n}</code></pre>\n\n\n\n<p>If your <code>inline_style</code> argument is more than a few lines of CSS code, you may want to add your CSS to a custom <a href=\"https://developer.wordpress.org/themes/features/block-stylesheets/\">block stylesheet</a> instead.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Unregistering block styles with PHP</h3>\n\n\n\n<p>To unregister a block style that has been registered with PHP, use the <a href=\"https://developer.wordpress.org/reference/functions/unregister_block_style/\"><code>unregister_block_style()</code></a> function. Here is a look at its signature:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">unregister_block_style(\n\tstring $block_name, \n\tstring $block_style_name \n): bool</code></pre>\n\n\n\n<p>The function accepts two parameters and returns <code>true</code> or <code>false</code>, depending on whether the registration was successful:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong><code>$block_name</code>:</strong> The name of the block, including both its namespace and slug (e.g., <code>core/image</code>).</li>\n\n\n\n<li><strong><code>$block_style_name</code>:</strong> The name/slug of a block style that was registered via PHP.</li>\n</ul>\n\n\n\n<p>To unregister the <code>hand-drawn</code> block style you registered earlier, you need to add an action function to the <code>init</code> hook (note the action call has a later priority of <code>99</code> so that it runs after the earlier registration function, which defaults to <code>10</code>):</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">add_action( 'init', 'themeslug_register_block_styles', 999 );\n\nfunction themeslug_register_block_styles() {\n\tunregister_block_style( 'core/image', 'hand-drawn' );\n}</code></pre>\n\n\n\n<div class=\"wp-block-wporg-notice is-alert-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>You can only unregister block styles with PHP if they have been registered via PHP. If the block style was registered with JavaScript, you must also use JavaScript to unregister it. For more information, see the \u201cUnregistering block styles with JavaScript\u201d section below.</p></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">JavaScript-based block styles</h2>\n\n\n\n<p>To register or unregister block styles via JavaScript, you need to load a JavaScript file on the <code>enqueue_block_editor_assets</code> hook.</p>\n\n\n\n<p>First, create an <code>/assets/js/block-editor.js</code> file in your theme (you can change this name or add it anywhere, but the example below assumes this name and location).</p>\n\n\n\n<p>Then add this code to your theme\u2019s <code>functions.php</code> file to enqueue your script:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">add_action( 'enqueue_block_editor_assets', 'themeslug_block_editor_assets' );\n\nfunction themeslug_block_editor_assets() {\n\twp_enqueue_script(\n\t\t'themeslug-block-editor',\n\t\tget_theme_file_uri( 'assets/js/block-editor.js' ),\n\t\tarray( \n\t\t\t'wp-blocks', \n\t\t\t'wp-dom-ready', \n\t\t\t'wp-edit-post' \n\t\t)\n\t);\n}</code></pre>\n\n\n\n<h3 class=\"wp-block-heading\">Registering block styles with JavaScript</h3>\n\n\n\n<p>To register a block style via JavaScript, you\u2019ll use the <code>registerBlockStyle()</code> function, which works similarly to the <code>register_block_style()</code> PHP function. It just uses JavaScript syntax.</p>\n\n\n\n<p>Let\u2019s use the same example from earlier and register a \u201chand drawn\u201d Image block style. Add this code to your <code>/assets/js/block-editor.js</code> file:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"javascript\" class=\"language-javascript\">wp.blocks.registerBlockStyle( 'core/image', {\n\tname: 'hand-drawn',\n\tlabel: 'Hand Drawn'\n} );</code></pre>\n\n\n\n<p>You can also set the <code>isDefault</code> argument to <code>true</code> if this is meant to be the default block style (it\u2019s <code>false</code> by default).</p>\n\n\n\n<p>For adding your custom CSS, you\u2019ll need to load a custom <a href=\"https://developer.wordpress.org/themes/features/block-stylesheets/\">block stylesheet</a> or add your CSS by some other means.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Unregistering block styles with JavaScript</h3>\n\n\n\n<p>There is also an <code>unregisterBlockStyle()</code> JavaScript function that is equivalent to the <code>unregister_block_style()</code> PHP function. You can use this to unregister any block styles that have been registered via JavaScript.</p>\n\n\n\n<p>To avoid a race condition where there\u2019s a conflict between when a block style is registered versus when it is unregistered, you need to ensure that you unregister a block style after it has already been registered. The best way to do this is to add it inside a function callback on <code>wp.domReady</code>, which ensures that you unregister after the DOM has loaded.</p>\n\n\n\n<p>To unregister the <code>hand-drawn</code> block style that you registered via JavaScript, add this to your <code>/assets/js/block-editor.js</code> file:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"javascript\" class=\"language-javascript\">wp.domReady( function () {\n\twp.blocks.unregisterBlockStyle( 'core/image', 'hand-drawn' );\n} );</code></pre>\n\n\n\n<div class=\"wp-block-wporg-notice is-alert-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>You can only unregister block styles with JavaScript if they have been registered via JavaScript. If the block style was registered with PHP, you must also use PHP to unregister it. For more information, see the \u201cUnregistering block styles with PHP\u201d section above.</p></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">Customizing block styles via theme.json</h2>\n\n\n\n<p>It\u2019s possible to customize the design of the core WordPress block styles. This means that you might not need to add custom CSS at all to get the look you\u2019re after.</p>\n\n\n\n<p>It is also recommended to use this method if possible for your customizations because they appear in the <strong>Appearance &gt; Editor &gt; Styles</strong> interface. Plus, your theme users can make their own changes to them if desired.</p>\n\n\n\n<p>Let\u2019s try to modify the Outline style of core Button block so that it has a drop-shadow that creates a double-border effect:</p>\n\n\n\n<figure class=\"wp-block-image size-full\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2400\" height=\"1235\" src=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=2400%2C1235&#038;ssl=1\" alt=\"WordPress post editor with three outlined buttons in the content canvas. Each has a solid-border drop-shadow.\" class=\"wp-image-149274\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?w=2400&amp;ssl=1 2400w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=300%2C154&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=1024%2C527&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=768%2C395&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=1536%2C790&amp;ssl=1 1536w, https://i0.wp.com/developer.wordpress.org/files/2023/10/block-styles-button-outlined.png?resize=2048%2C1054&amp;ssl=1 2048w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>To do this, open your <code>theme.json</code> file. You\u2019ll need to target the <code>styles.blocks.core/button.variations.outline</code> property. It works just like any other <a href=\"https://developer.wordpress.org/themes/global-settings-and-styles/styles/\">style that you can add via <code>theme.json</code></a>.</p>\n\n\n\n<p>Try this code snippet in your <code>theme.json</code> file:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"json\" class=\"language-json\">{\n\t\"version\": 2,\n\t\"styles\": {\n\t\t\"blocks\": {\n\t\t\t\"core/button\": {\n\t\t\t\t\"variations\": {\n\t\t\t\t\t\"outline\": {\n\t\t\t\t\t\t\"border\": {\n\t\t\t\t\t\t\t\"color\": \"var:preset|color|black\",\n\t\t\t\t\t\t\t\"radius\": \"0\",\n\t\t\t\t\t\t\t\"style\": \"solid\",\n\t\t\t\t\t\t\t\"width\": \"3px\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"shadow\": \"var:preset|shadow|outlined\",\n\t\t\t\t\t\t\"spacing\": {\n\t\t\t\t\t\t\t\"padding\": {\n\t\t\t\t\t\t\t\t\"top\": \"0.5rem\",\n\t\t\t\t\t\t\t\t\"bottom\": \"0.5rem\",\n\t\t\t\t\t\t\t\t\"left\": \"1.5rem\",\n\t\t\t\t\t\t\t\t\"right\": \"1.5rem\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}</code></pre>\n\n\n\n<p>Feel free to adjust that and customize it to your liking. Then have fun modifying other block styles.</p>\n\n\n\n<div class=\"wp-block-wporg-notice is-alert-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>It is not currently possible to customize your custom-registered block styles via <code>theme.json</code>. You can only style those registered by core WordPress at the moment. For more information, check out the related <a href=\"https://github.com/WordPress/gutenberg/issues/49602\">feature request on GitHub</a>.</p></div></div>\n\n\n\n<p>The following are the core WordPress blocks and their styles that you can customize via <code>theme.json</code>:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li><strong><code>core/button</code>:</strong> <code>outline</code>, <code>fill</code></li>\n\n\n\n<li><strong><code>core/image</code>: </strong><code>rounded</code></li>\n\n\n\n<li><strong><code>core/quote</code>:</strong> <code>plain</code></li>\n\n\n\n<li><strong><code>core/site-logo</code>:</strong> <code>rounded</code></li>\n\n\n\n<li><strong><code>core/separator</code>:</strong> <code>wide</code>, <code>dots</code></li>\n\n\n\n<li><strong><code>core/social-links</code>:</strong> <code>logos-only</code>, <code>pill-shape</code></li>\n\n\n\n<li><strong><code>core/table</code>:</strong> <code>stripes</code></li>\n\n\n\n<li><strong><code>core/tag-cloud</code></strong>: <code>outline</code></li>\n</ul>\n\n\n\n<p>For a deeper dive into styling core blocks, read <a href=\"https://developer.wordpress.org/news/2023/02/creating-custom-block-styles-in-wordpress-themes/\">Customizing core block style variations via theme.json</a> on the WordPress Developer Blog.</p>\n",
        "protected": false
    },
    "author": 20482,
    "featured_media": 0,
    "parent": 149260,
    "menu_order": 0,
    "template": "",
    "meta": {
        "footnotes": ""
    },
    "class_list": [
        "post-149271",
        "theme-handbook",
        "type-theme-handbook",
        "status-publish",
        "hentry",
        "type-handbook"
    ],
    "revision_note": "",
    "jetpack_sharing_enabled": true,
    "_links": {
        "self": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/149271",
                "targetHints": {
                    "allow": [
                        "GET"
                    ]
                }
            }
        ],
        "collection": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook"
            }
        ],
        "about": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/types/theme-handbook"
            }
        ],
        "author": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/users/20482"
            }
        ],
        "version-history": [
            {
                "count": 1,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/149271/revisions"
            }
        ],
        "predecessor-version": [
            {
                "id": 149275,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/149271/revisions/149275"
            }
        ],
        "up": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/149260"
            }
        ],
        "wp:attachment": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/media?parent=149271"
            }
        ],
        "curies": [
            {
                "name": "wp",
                "href": "https://api.w.org/{rel}",
                "templated": true
            }
        ]
    }
}