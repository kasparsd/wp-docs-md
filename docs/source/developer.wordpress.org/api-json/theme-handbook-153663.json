{
    "id": 153663,
    "date": "2024-04-30T19:25:02",
    "date_gmt": "2024-04-30T19:25:02",
    "guid": {
        "rendered": "https://developer.wordpress.org/?post_type=theme-handbook&#038;p=153663"
    },
    "modified": "2024-04-30T19:25:02",
    "modified_gmt": "2024-04-30T19:25:02",
    "slug": "block-type-patterns",
    "status": "publish",
    "type": "theme-handbook",
    "link": "https://developer.wordpress.org/themes/patterns/block-type-patterns/",
    "title": {
        "rendered": "Block Type Patterns"
    },
    "content": {
        "rendered": "\n<p>One of the most useful capabilities of patterns is the ability to tie them directly to one or more block types. For example, you can assign a gallery pattern to the Gallery (<code>core/gallery</code>) block type and use that specific pattern whenever you insert a new Gallery.</p>\n\n\n\n<p>But the feature offers even more than that. In this article, you will learn how to add a basic connection between a block type and a pattern and how to take advantage of some special cases in WordPress.</p>\n\n\n\n<div class=\"wp-block-wporg-notice is-info-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>Besides the techniques described below, block type patterns are also needed for creating starter page patterns, which you can learn more about in the <a href=\"https://developer.wordpress.org/themes/patterns/starter-patterns/\">Starter Patterns</a> documentation.</p></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">Block-specific patterns</h2>\n\n\n\n<p>It\u2019s important to note that patterns that are connected to a block type behave just like other patterns. What you\u2019re doing is making WordPress aware that the pattern is meant for one or more block types.</p>\n\n\n\n<p>For many cases, you may simply want to create a pattern that serves as a starting point when inserting a specific block, and that\u2019s where block type patterns are often useful.</p>\n\n\n\n<h3 class=\"wp-block-heading\">Register a block type pattern</h3>\n\n\n\n<p>As described in <a href=\"https://developer.wordpress.org/themes/patterns/registering-patterns/\">Registering Patterns</a>, you must assign a value to the <code>Block Types</code> header field in your pattern file. This field can accept one or more comma-separated block types, which must include the block\u2019s namespace and slug (e.g., <code>namespace/slug</code>).</p>\n\n\n\n<p>Here is what the file header of pattern tied to the Cover block might look like:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">&lt;?php\n/**\n * Title: Cover With Contrast Background\n * Slug: themeslug/cover-contrast\n * Categories: banner\n * Block Types: core/cover\n * Viewport Width: 1376\n */\n?&gt;</code></pre>\n\n\n\n<h3 class=\"wp-block-heading\">Build a block type pattern</h3>\n\n\n\n<p>Let\u2019s take what you\u2019ve learned so far and create a pattern for a specific block. In this example, you will create a simple Cover block with a single nested Heading and a background with the <code>contrast</code> <a href=\"https://developer.wordpress.org/themes/global-settings-and-styles/settings/color/\">color preset</a>.</p>\n\n\n\n<p>Create a new file named <code>cover-contrast.php</code> in your theme\u2019s <code>/patterns</code> folder and paste this code inside it:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">&lt;?php\n/**\n * Title: Cover With Contrast Background\n * Slug: themeslug/cover-contrast\n * Categories: banner\n * Block Types: core/cover\n * Viewport Width: 1376\n */\n?&gt;\n&lt;!-- wp:cover {\"overlayColor\":\"contrast\",\"isUserOverlayColor\":true,\"align\":\"full\",\"style\":{\"elements\":{\"link\":{\"color\":{\"text\":\"var:preset|color|base\"}}}},\"textColor\":\"base\",\"layout\":{\"type\":\"constrained\"}} --&gt;\n&lt;div class=\"wp-block-cover alignfull has-base-color has-text-color has-link-color\"&gt;\n\t&lt;span aria-hidden=\"true\" class=\"wp-block-cover__background has-contrast-background-color has-background-dim-100 has-background-dim\"&gt;&lt;/span&gt;\n\t&lt;div class=\"wp-block-cover__inner-container\"&gt;\n\t\t&lt;!-- wp:heading {\"textAlign\":\"center\"} --&gt;\n\t\t\t&lt;h2 class=\"wp-block-heading has-text-align-center\"&gt;&lt;?php esc_html_e( 'A simple heading', 'themeslug' ); ?&gt;&lt;/h2&gt;\n\t\t&lt;!-- /wp:heading --&gt;\n\t&lt;/div&gt;\n&lt;/div&gt;\n&lt;!-- /wp:cover --&gt;</code></pre>\n\n\n\n<p>Once you\u2019ve saved your pattern file, it should appear as normal in the inserter and Pattern Library. But the most important thing is to check that it\u2019s working as a block type pattern.</p>\n\n\n\n<p>Open a new post or page in your WordPress admin and insert a Cover block but don\u2019t make any change to it. Then, click the Cover block\u2019s icon in the toolbar. You should see a <strong>Patterns</strong> menu item, and if you click that, your new pattern will appear:</p>\n\n\n\n<figure class=\"wp-block-image size-full has-custom-border\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"Initial insertion of the Cover block in the block editor. The block's icon is selected in the toolbar and shows a dropdown. In the dropdown, the Patterns sub-menu is selected and shows a transformation option for choosing a pattern.\" class=\"has-border-color has-light-grey-2-border-color wp-image-153665\" style=\"border-width:1px\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-transform.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>From there, if you select the pattern that you\u2019ve registered, it will transform your inserted Cover block inside the content area:</p>\n\n\n\n<figure class=\"wp-block-image size-full has-custom-border\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"WordPress post editor with a Cover block inserted into the content area with a single Heading block nested inside it.\" class=\"has-border-color has-light-grey-2-border-color wp-image-153666\" style=\"border-width:1px\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/cover-pattern-replaced.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>And that is the basics of how block type patterns work. But WordPress has some special handling for some blocks, which you will learn about below.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Query Loop patterns</h2>\n\n\n\n<p>The Query Loop block is one of the most unique and useful blocks to create custom patterns for. It gives you and your theme users the ability to quickly insert or replace existing Query blocks with an alternative posts layout.</p>\n\n\n\n<p>The technique is the same as other block type patterns. You must add the <code>core/query</code> block type to the pattern\u2019s <code>Block Types</code> file header field.</p>\n\n\n\n<p>Let\u2019s create a basic two-column grid that shows each post\u2019s featured image, title, excerpt and date. You can, of course, use whatever layout and design that you want.</p>\n\n\n\n<p>For now, create a new <code>query-two-columns.php</code> file in your theme\u2019s <code>/patterns</code> folder and paste this code into it:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">&lt;?php\n/**\n * Title: Query: Two Columns\n * Slug: themeslug/query-two-columns\n * Categories: posts\n * Block Types: core/query\n * Viewport Width: 1376\n */\n?&gt;\n&lt;!-- wp:query {\"query\":{\"perPage\":6,\"pages\":0,\"offset\":0,\"postType\":\"post\",\"order\":\"desc\",\"orderBy\":\"date\",\"author\":\"\",\"search\":\"\",\"exclude\":[],\"sticky\":\"\",\"inherit\":false},\"align\":\"wide\"} --&gt;\n&lt;div class=\"wp-block-query alignwide\"&gt;\n\t\t&lt;!-- wp:post-template {\"style\":{\"spacing\":{\"blockGap\":\"var:preset|spacing|40\"}},\"layout\":{\"type\":\"grid\",\"columnCount\":2}} --&gt;\n\t\t&lt;!-- wp:post-featured-image {\"isLink\":true,\"aspectRatio\":\"4/3\",\"align\":\"wide\"} /--&gt;\n\t\t&lt;!-- wp:post-title {\"isLink\":true,\"fontSize\":\"large\"} /--&gt;\n\t\t&lt;!-- wp:post-excerpt {\"showMoreOnNewLine\":false,\"excerptLength\":26} /--&gt;\n\t\t&lt;!-- wp:post-date /--&gt;\n\t&lt;!-- /wp:post-template --&gt;\n&lt;/div&gt;\n&lt;!-- /wp:query --&gt;</code></pre>\n\n\n\n<p>There are two ways to take advantage of Query Loop patterns, like the one you just created. The first is to insert a new Query Loop block into a page or template:</p>\n\n\n\n<figure class=\"wp-block-image size-full has-custom-border\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"Query Loop block inserted into the WordPress block editor with the initial prompt to choose a pattern.\" class=\"has-border-color has-light-grey-2-border-color wp-image-153667\" style=\"border-width:1px\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-start.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>You should see a couple of buttons for adding a Query Loop from that point. Click the <strong>Choose</strong> button.</p>\n\n\n\n<p>This will bring up the <strong>Choose a pattern</strong> modal. In this modal, your pattern will appear and can be selected:</p>\n\n\n\n<figure class=\"wp-block-image size-full\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"Modal overlaying the post editor that shows three options of different patterns for showing a list or grid of posts.\" class=\"wp-image-153668\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-modal.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>Once selected, your pattern will be inserted into the canvas of the page or template that you are editing:</p>\n\n\n\n<figure class=\"wp-block-image size-full has-custom-border\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"WordPress post editor with a two-column grid of posts shown in the content area.\" class=\"has-border-color has-light-grey-2-border-color wp-image-153669\" style=\"border-width:1px\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/query-loop-inserted.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>The second method of using Query Loop patterns is much the same. You can replace an existing pattern (even the one you just inserted) by clicking the <strong>Replace</strong> button in the toolbar. It will bring up the same <strong>Choose a pattern</strong> modal, and the process of choosing a pattern is the same.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Template Part patterns</h2>\n\n\n\n<p>Because <a href=\"https://developer.wordpress.org/themes/templates/template-parts/\">template parts</a> are technically blocks themselves, you can also use them as a pattern\u2019s block types. There is one limitation: only parts that use the Header and Footer <a href=\"https://developer.wordpress.org/themes/templates/template-parts/#template-part-areas\">template part areas</a> are supported. But these are the most common types anyway.</p>\n\n\n\n<p>When targeting a specific template part, its block type name will have a third component: the template part area. So if you want to target the Header part, you will pass a block type of <code>core/template-part/header</code>. And for the Footer part, use <code>core/template-part/footer</code>.</p>\n\n\n\n<p>Let\u2019s create a basic Header template part with a centered logo, title, and nav menu. You will use this to replace the existing header on your site.</p>\n\n\n\n<p>Create a new file named <code>header-centered.php</code> in your theme\u2019s <code>/patterns</code> folder. Then copy and paste this code into it:</p>\n\n\n\n<pre class=\"wp-block-code\"><code lang=\"php\" class=\"language-php\">&lt;?php\n/**\n * Title: Header: Centered\n * Slug: themeslug/header-centered\n * Categories: header\n * Block Types: core/template-part/header\n * Viewport Width: 1376\n */\n?&gt;\n&lt;!-- wp:group {\"align\":\"wide\",\"layout\":{\"type\":\"flex\",\"orientation\":\"vertical\",\"justifyContent\":\"center\"}} --&gt;\n&lt;div class=\"wp-block-group alignwide\"&gt;\n\t&lt;!-- wp:site-logo {\"width\":60} /--&gt;\n\t&lt;!-- wp:site-title {\"level\":0} /--&gt;\n\t&lt;!-- wp:navigation {\"layout\":{\"type\":\"flex\",\"justifyContent\":\"right\",\"orientation\":\"horizontal\"},\"style\":{\"spacing\":{\"margin\":{\"top\":\"0\"},\"blockGap\":\"var:preset|spacing|20\"},\"layout\":{\"selfStretch\":\"fit\",\"flexSize\":null}}} /--&gt;\n&lt;/div&gt;\n&lt;!-- /wp:group --&gt;</code></pre>\n\n\n\n<p>Once you save this file, go to <strong>Appearance &gt; Editor</strong> in your WordPress admin and select the on the Header block.</p>\n\n\n\n<p>Now click the <strong>Options</strong> button (<strong>\u22ee</strong> icon) in the toolbar. You should see a <strong>Replace</strong> option in the dropdown:</p>\n\n\n\n<figure class=\"wp-block-image size-full has-custom-border\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"WordPress Site Editor with the Header Template Part selected in the content area. The Options dropdown shows the &quot;Replace&quot; item highlighted.\" class=\"has-border-color has-light-grey-2-border-color wp-image-153670\" style=\"border-width:1px\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-part-replace-dropdown.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>Once you click the <strong>Replace</strong> dropdown menu item, a new modal titled <strong>Choose a header</strong> will appear, and you should see your <strong>Header: Centered</strong> pattern in the available patterns grid:</p>\n\n\n\n<figure class=\"wp-block-image size-full\"><a href=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?ssl=1\"><img data-recalc-dims=\"1\" loading=\"lazy\" decoding=\"async\" width=\"2048\" height=\"1064\" src=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?resize=2048%2C1064&#038;ssl=1\" alt=\"A modal overlaying the Site Editor screen that reads &quot;Choose a header.&quot; Below, it shows a grid of various site header designs to choose from.\" class=\"wp-image-153671\" srcset=\"https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?w=2048&amp;ssl=1 2048w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?resize=300%2C156&amp;ssl=1 300w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?resize=1024%2C532&amp;ssl=1 1024w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?resize=768%2C399&amp;ssl=1 768w, https://i0.wp.com/developer.wordpress.org/files/2024/04/header-pattern-replace.webp?resize=1536%2C798&amp;ssl=1 1536w\" sizes=\"auto, (max-width: 1000px) 100vw, 1000px\" /></a></figure>\n\n\n\n<p>By selecting this pattern or another, you can replace the entire Header template part. This process works the same for Footer template parts.</p>\n\n\n\n<div class=\"wp-block-wporg-notice is-info-notice\"><div class=\"wp-block-wporg-notice__icon\"></div><div class=\"wp-block-wporg-notice__content\"><p>Parts for custom <a href=\"https://developer.wordpress.org/themes/templates/template-parts/#template-part-areas\">template part areas</a> cannot yet take advantage of this feature. There is an <a href=\"https://github.com/WordPress/gutenberg/issues/44689\">open ticket</a> that has not been patched to handle areas other than Header and Footer.</p></div></div>\n",
        "protected": false
    },
    "author": 20482,
    "featured_media": 0,
    "parent": 153616,
    "menu_order": 60,
    "template": "",
    "meta": {
        "footnotes": ""
    },
    "class_list": [
        "post-153663",
        "theme-handbook",
        "type-theme-handbook",
        "status-publish",
        "hentry",
        "type-handbook"
    ],
    "revision_note": "",
    "jetpack_sharing_enabled": true,
    "_links": {
        "self": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/153663",
                "targetHints": {
                    "allow": [
                        "GET"
                    ]
                }
            }
        ],
        "collection": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook"
            }
        ],
        "about": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/types/theme-handbook"
            }
        ],
        "author": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/users/20482"
            }
        ],
        "version-history": [
            {
                "count": 3,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/153663/revisions"
            }
        ],
        "predecessor-version": [
            {
                "id": 153673,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/153663/revisions/153673"
            }
        ],
        "up": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/theme-handbook/153616"
            }
        ],
        "wp:attachment": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/media?parent=153663"
            }
        ],
        "curies": [
            {
                "name": "wp",
                "href": "https://api.w.org/{rel}",
                "templated": true
            }
        ]
    }
}