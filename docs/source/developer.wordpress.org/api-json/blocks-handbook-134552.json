{
    "id": 134552,
    "date": "2021-03-09T08:38:23",
    "date_gmt": "2021-03-09T08:38:23",
    "guid": {
        "rendered": "https://developer.wordpress.org/block-editor/reference-guides/packages/packages-dom/"
    },
    "modified": "2025-07-08T10:16:00",
    "modified_gmt": "2025-07-08T10:16:00",
    "slug": "packages-dom",
    "status": "publish",
    "type": "blocks-handbook",
    "link": "https://developer.wordpress.org/block-editor/reference-guides/packages/packages-dom/",
    "title": {
        "rendered": "@wordpress/dom"
    },
    "content": {
        "rendered": "<p>DOM utilities module for WordPress.</p>\n<h2>Installation</h2>\n<p>Install the module</p>\n<pre><code class=\"language-bash\">npm install @wordpress/dom --save\n</code></pre>\n<h2>API</h2>\n<p><!-- START TOKEN(Autogenerated API docs) --></p>\n<h3>computeCaretRect</h3>\n<p>Get the rectangle for the selection in a container.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>win</em> <code>Window</code>: The window of the selection.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>DOMRect | null</code>: The rectangle.</li>\n</ul>\n<h3>documentHasSelection</h3>\n<p>Check whether the current document has a selection. This includes focus in input fields, textareas, and general rich-text selection.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>doc</em> <code>Document</code>: The document to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if there is selection, false if not.</li>\n</ul>\n<h3>documentHasTextSelection</h3>\n<p>Check whether the current document has selected text. This applies to ranges of text in the document, and not selection inside <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> elements.</p>\n<p>See: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection#Related_objects\">https://developer.mozilla.org/en-US/docs/Web/API/Window/getSelection#Related_objects</a>.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>doc</em> <code>Document</code>: The document to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if there is selection, false if not.</li>\n</ul>\n<h3>documentHasUncollapsedSelection</h3>\n<p>Check whether the current document has any sort of (uncollapsed) selection. This includes ranges of text across elements and any selection inside textual <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> elements.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>doc</em> <code>Document</code>: The document to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: Whether there is any recognizable text selection in the document.</li>\n</ul>\n<h3>focus</h3>\n<p>Object grouping <code>focusable</code> and <code>tabbable</code> utils under the keys with the same name.</p>\n<h3>getFilesFromDataTransfer</h3>\n<p>Gets all files from a DataTransfer object.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>dataTransfer</em> <code>DataTransfer</code>: DataTransfer object to inspect.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>File[]</code>: An array containing all files.</li>\n</ul>\n<h3>getOffsetParent</h3>\n<p>Returns the closest positioned element, or null under any of the conditions of the offsetParent specification. Unlike offsetParent, this function is not limited to HTMLElement and accepts any Node (e.g. Node.TEXT_NODE).</p>\n<p><em>Related</em></p>\n<ul>\n<li><a href=\"https://drafts.csswg.org/cssom-view/#dom-htmlelement-offsetparent\">https://drafts.csswg.org/cssom-view/#dom-htmlelement-offsetparent</a></li>\n</ul>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: Node from which to find offset parent.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>Node | null</code>: Offset parent.</li>\n</ul>\n<h3>getPhrasingContentSchema</h3>\n<p>Get schema of possible paths for phrasing content.</p>\n<p><em>Related</em></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content</a></li>\n</ul>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>context</em> <code>[string]</code>: Set to &#8220;paste&#8221; to exclude invisible elements and sensitive data.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>Partial&lt;ContentSchema&gt;</code>: Schema.</li>\n</ul>\n<h3>getRectangleFromRange</h3>\n<p>Get the rectangle of a given Range. Returns <code>null</code> if no suitable rectangle can be found.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>range</em> <code>Range</code>: The range.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>DOMRect?</code>: The rectangle.</li>\n</ul>\n<h3>getScrollContainer</h3>\n<p>Given a DOM node, finds the closest scrollable container node or the node itself, if scrollable.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Element | null</code>: Node from which to start.</li>\n<li><em>direction</em> <code>?string</code>: Direction of scrollable container to search for (&#8216;vertical&#8217;, &#8216;horizontal&#8217;, &#8216;all&#8217;). Defaults to &#8216;vertical&#8217;.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>Element | undefined</code>: Scrollable container node, if found.</li>\n</ul>\n<h3>insertAfter</h3>\n<p>Given two DOM nodes, inserts the former in the DOM as the next sibling of the latter.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>newNode</em> <code>Node</code>: Node to be inserted.</li>\n<li><em>referenceNode</em> <code>Node</code>: Node after which to perform the insertion.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>void</code>:</li>\n</ul>\n<h3>isEmpty</h3>\n<p>Recursively checks if an element is empty. An element is not empty if it contains text or contains elements with attributes such as images.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>element</em> <code>Element</code>: The element to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: Whether or not the element is empty.</li>\n</ul>\n<h3>isEntirelySelected</h3>\n<p>Check whether the contents of the element have been entirely selected. Returns true if there is no possibility of selection.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>element</em> <code>HTMLElement</code>: The element to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if entirely selected, false if not.</li>\n</ul>\n<h3>isFormElement</h3>\n<p>Detects if element is a form element.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>element</em> <code>Element</code>: The element to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if form element and false otherwise.</li>\n</ul>\n<h3>isHorizontalEdge</h3>\n<p>Check whether the selection is horizontally at the edge of the container.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>container</em> <code>HTMLElement</code>: Focusable element.</li>\n<li><em>isReverse</em> <code>boolean</code>: Set to true to check left, false for right.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if at the horizontal edge, false if not.</li>\n</ul>\n<h3>isNumberInput</h3>\n<p>Check whether the given element is an input field of type number.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: The HTML node.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>node is HTMLInputElement</code>: True if the node is number input.</li>\n</ul>\n<h3>isPhrasingContent</h3>\n<p>Find out whether or not the given node is phrasing content.</p>\n<p><em>Related</em></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content</a></li>\n</ul>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: The node to test.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if phrasing content, false if not.</li>\n</ul>\n<h3>isRTL</h3>\n<p>Whether the element&#8217;s text direction is right-to-left.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>element</em> <code>Element</code>: The element to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if rtl, false if ltr.</li>\n</ul>\n<h3>isSelectionForward</h3>\n<p>Returns true if the given selection object is in the forward direction, or false otherwise.</p>\n<p><em>Related</em></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\">https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition</a></li>\n</ul>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>selection</em> <code>Selection</code>: Selection object to check.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: Whether the selection is forward.</li>\n</ul>\n<h3>isTextContent</h3>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>:</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: Node is text content</li>\n</ul>\n<h3>isTextField</h3>\n<p>Check whether the given element is a text field, where text field is defined by the ability to select within the input, or that it is contenteditable.</p>\n<p>See: <a href=\"https://html.spec.whatwg.org/#textFieldSelection\">https://html.spec.whatwg.org/#textFieldSelection</a></p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: The HTML element.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>node is HTMLElement</code>: True if the element is an text field, false if not.</li>\n</ul>\n<h3>isVerticalEdge</h3>\n<p>Check whether the selection is vertically at the edge of the container.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>container</em> <code>HTMLElement</code>: Focusable element.</li>\n<li><em>isReverse</em> <code>boolean</code>: Set to true to check top, false for bottom.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>boolean</code>: True if at the vertical edge, false if not.</li>\n</ul>\n<h3>placeCaretAtHorizontalEdge</h3>\n<p>Places the caret at start or end of a given element.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>container</em> <code>HTMLElement</code>: Focusable element.</li>\n<li><em>isReverse</em> <code>boolean</code>: True for end, false for start.</li>\n</ul>\n<h3>placeCaretAtVerticalEdge</h3>\n<p>Places the caret at the top or bottom of a given element.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>container</em> <code>HTMLElement</code>: Focusable element.</li>\n<li><em>isReverse</em> <code>boolean</code>: True for bottom, false for top.</li>\n<li><em>rect</em> <code>[DOMRect]</code>: The rectangle to position the caret with.</li>\n</ul>\n<h3>remove</h3>\n<p>Given a DOM node, removes it from the DOM.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: Node to be removed.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>void</code>:</li>\n</ul>\n<h3>removeInvalidHTML</h3>\n<p>Given a schema, unwraps or removes nodes, attributes and classes on HTML.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>HTML</em> <code>string</code>: The HTML to clean up.</li>\n<li><em>schema</em> <code>import('./clean-node-list').Schema</code>: Schema for the HTML.</li>\n<li><em>inline</em> <code>boolean</code>: Whether to clean for inline mode.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>string</code>: The cleaned up HTML.</li>\n</ul>\n<h3>replace</h3>\n<p>Given two DOM nodes, replaces the former with the latter in the DOM.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>processedNode</em> <code>Element</code>: Node to be removed.</li>\n<li><em>newNode</em> <code>Element</code>: Node to be inserted in its place.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>void</code>:</li>\n</ul>\n<h3>replaceTag</h3>\n<p>Replaces the given node with a new node with the given tag name.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Element</code>: The node to replace</li>\n<li><em>tagName</em> <code>string</code>: The new tag name.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>Element</code>: The new node.</li>\n</ul>\n<h3>safeHTML</h3>\n<p>Strips scripts and on&#042; attributes from HTML.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>html</em> <code>string</code>: HTML to sanitize.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>string</code>: The sanitized HTML.</li>\n</ul>\n<h3>unwrap</h3>\n<p>Unwrap the given node. This means any child nodes are moved to the parent.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>node</em> <code>Node</code>: The node to unwrap.</li>\n</ul>\n<p><em>Returns</em></p>\n<ul>\n<li><code>void</code>:</li>\n</ul>\n<h3>wrap</h3>\n<p>Wraps the given node with a new node with the given tag name.</p>\n<p><em>Parameters</em></p>\n<ul>\n<li><em>newNode</em> <code>Element</code>: The node to insert.</li>\n<li><em>referenceNode</em> <code>Element</code>: The node to wrap.</li>\n</ul>\n<p><!-- END TOKEN(Autogenerated API docs) --></p>\n<h2>Contributing to this package</h2>\n<p>This is an individual package that&#8217;s part of the Gutenberg project. The project is organized as a monorepo. It&#8217;s made up of multiple self-contained software packages, each with a specific purpose. The packages in this monorepo are published to <a href=\"https://www.npmjs.com/\">npm</a> and used by <a href=\"https://make.wordpress.org/core/\">WordPress</a> as well as other software projects.</p>\n<p>To find out more about contributing to this package or Gutenberg as a whole, please read the project&#8217;s main <a href=\"https://github.com/WordPress/gutenberg/tree/HEAD/CONTRIBUTING.md\">contributor guide</a>.</p>\n",
        "protected": false
    },
    "author": 0,
    "featured_media": 0,
    "parent": 134521,
    "menu_order": 271,
    "template": "",
    "meta": {
        "footnotes": ""
    },
    "class_list": [
        "post-134552",
        "blocks-handbook",
        "type-blocks-handbook",
        "status-publish",
        "hentry",
        "type-handbook"
    ],
    "revision_note": "",
    "jetpack_sharing_enabled": true,
    "_links": {
        "self": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/134552",
                "targetHints": {
                    "allow": [
                        "GET"
                    ]
                }
            }
        ],
        "collection": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook"
            }
        ],
        "about": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/types/blocks-handbook"
            }
        ],
        "version-history": [
            {
                "count": 31,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/134552/revisions"
            }
        ],
        "predecessor-version": [
            {
                "id": 154978,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/134552/revisions/154978"
            }
        ],
        "up": [
            {
                "embeddable": true,
                "href": "https://developer.wordpress.org/wp-json/wp/v2/blocks-handbook/134521"
            }
        ],
        "wp:attachment": [
            {
                "href": "https://developer.wordpress.org/wp-json/wp/v2/media?parent=134552"
            }
        ],
        "curies": [
            {
                "name": "wp",
                "href": "https://api.w.org/{rel}",
                "templated": true
            }
        ]
    }
}